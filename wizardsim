-- Create the GUI
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local ToggleButton = Instance.new("TextButton")

-- Set properties for the GUI elements
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Frame.Size = UDim2.new(0, 200, 0, 100)
Frame.Position = UDim2.new(0.5, -100, 0.5, -50)

ToggleButton.Parent = Frame
ToggleButton.Size = UDim2.new(0, 180, 0, 50)
ToggleButton.Position = UDim2.new(0, 10, 0, 25)
ToggleButton.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
ToggleButton.Text = "Enable"

local isEnabled = false
local stopCasting = false

-- List of enemies to cast spells on
local enemies = {
    workspace.Levels.Forest.Enemies.Dummy,
    workspace.Levels.Forest.Enemies.DummyWarrior,
    workspace.Levels.Forest.Enemies.DummyWizzard,
    workspace.Levels.Forest.Enemies.DummyArcher,
    workspace.Levels.Forest.Enemies.DummySpearman,
    workspace.Levels.Forest.Enemies.DummyKing,
    workspace.Levels.City.Enemies.GreenSlime,
    workspace.Levels.City.Enemies.BigSlime,
    workspace.Levels.City.Enemies.Spider,
    workspace.Levels.City.Enemies.GiantSpider,
    workspace.Levels.City.Enemies.Wolf,
    workspace.Levels.City.Enemies.Werewolf,
    workspace.Levels.City.Enemies.Bear,
    workspace.Levels.City.Enemies.StoneGolem,
    workspace.BossArenas.Lumberjack.Enemies.Lumberjack,
    workspace.BossArenas.Lumberjack.Enemies.GiantWerewolf,
    workspace.Levels.Beach.Enemies.BeachCrab,
    workspace.Levels.Beach.Enemies.Clam,
    workspace.Levels.Beach.Enemies.RockCrab,
    workspace.Levels.Sea.Enemies.Jellyfish,
    workspace.Levels.Sea.Enemies.IceJellyfish,
    workspace.Levels.Beach.Enemies.GreenPirate,
    workspace.Levels.Beach.Enemies.RedPirate,
    workspace.BossArenas.WaterGolem.Enemies.WaterGolem,
    workspace.BossArenas.KingPirate.Enemies.KingPirate,
    workspace.Levels.Magma.Enemies.MagmaSlime,
    workspace.Levels.Magma.Enemies.MagmaCrab,
    workspace.Levels.Magma.Enemies.FireAnt,
    workspace.Levels.Magma.Enemies.GiantFireAnt,
    workspace.Levels.Magma.Enemies.MagmaScorpion,
    workspace.Levels.Magma.Enemies.Worm,
    workspace.Levels.Magma.Enemies.MagmaSpider,
    workspace.BossArenas.MagmaGolem.Enemies.MagmaGolem,
    workspace.BossArenas.MagmaKing.Enemies.MagmaKing,
    workspace.Levels.Castle.Enemies.DummyKnight,
    workspace.Levels.Castle.Enemies.DummyArcher2,
    workspace.Levels.Castle.Enemies.DummySpearman2,
    workspace.Levels.Castle.Enemies.SmallTreant,
    workspace.Levels.Castle.Enemies.Treant,
    workspace.Levels.Castle.Enemies.SmallWasp,
    workspace.Levels.Castle.Enemies.Wasp,
    workspace.Levels.DeepForest.Enemies.RockScorpion,
    workspace.Levels.DeepForest.Enemies.RockTitan,
    workspace.Levels.CandyLand.Enemies.SmallJello,
    workspace.Levels.CandyLand.Enemies.Cupcake,
    workspace.Levels.CandyLand.Enemies.Donut,
    workspace.Levels.CandyLand.Enemies.BigJello,
    workspace.Levels.CandyLand.Enemies.CandyGolem,
    workspace.Effects.GummyWorm,
    workspace.Levels.CandyLand.Enemies.GingerbreadSoldier,
    workspace.Levels.CandyLand.Enemies.GingerbreadWizard,
    workspace.BossArenas.CandyChomper.Enemies.StaticWaypoint
}

-- Function to cast spell on each enemy
local function castSpells()
    for _, enemy in pairs(enemies) do
        if not isEnabled then break end  -- Stop the loop when disabled
        local args = {
            [1] = 1,
            [2] = enemy
        }
        game:GetService("ReplicatedStorage").Remote.CastSpell:FireServer(unpack(args))
        wait(0.5) -- Small delay to prevent flooding the server
    end
end

-- Toggle the spell casting
ToggleButton.MouseButton1Click:Connect(function()
    isEnabled = not isEnabled
    stopCasting = not isEnabled  -- Set flag to stop casting

    if isEnabled then
        ToggleButton.Text = "Disable"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
        
        -- Start casting spells
        while isEnabled do
            castSpells()
            wait(5) -- Delay between full cycles of casting
        end
    else
        ToggleButton.Text = "Enable"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
    end
end)
